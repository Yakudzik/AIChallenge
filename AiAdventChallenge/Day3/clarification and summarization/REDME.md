# Telegram AI Bot (DeepSeek) ‚Äî JSON-–æ—Ç–≤–µ—Ç—ã + —É–º–Ω—ã–µ —É—Ç–æ—á–Ω–µ–Ω–∏—è

–¢–µ–ª–µ–≥—Ä–∞–º-–±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã, –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∑–∞–¥–∞—ë—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã (–¥–æ 2 —Ä–∞—É–Ω–¥–æ–≤), –∞ –∑–∞—Ç–µ–º –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç. –í—Å–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è **–≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON** (–∫—Ä–∞—Å–∏–≤–æ –≤ `<pre><code>`), —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏: –≤—Ä–µ–º—è, –º–æ–¥–µ–ª—å, —è–∑—ã–∫, —Å—Ç–∞—Ç—É—Å, –≤—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **AI-–¥–∏–∞–ª–æ–≥ —Å —É—Ç–æ—á–Ω–µ–Ω–∏—è–º–∏**
  - –ë–æ—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏, –µ—Å–ª–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç, –∑–∞–¥–∞—ë—Ç —É—Ç–æ—á–Ω—è—é—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã.
  - –ú–∞–∫—Å–∏–º—É–º **2 —Ä–∞—É–Ω–¥–∞ —É—Ç–æ—á–Ω–µ–Ω–∏–π** (anti-loop).
  - –ü–æ—Å–ª–µ —É—Ç–æ—á–Ω–µ–Ω–∏–π —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç **–µ–¥–∏–Ω—ã–π –∏—Ç–æ–≥–æ–≤—ã–π –æ—Ç–≤–µ—Ç** –Ω–∞ —Ä—É—Å—Å–∫–æ–º.

- **–ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–∞–ª–æ–≥–∞**
  - –í–µ–¥—ë—Ç—Å—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ —É—Ç–æ—á–Ω–µ–Ω–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (`context.user_data`).
  - –ë–æ—Ç –Ω–µ ‚Äú—Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç‚Äù –¥–∏–∞–ª–æ–≥ –Ω–∞ ¬´—á–µ–º –ø–æ–º–æ—á—å¬ª.

- **JSON-–æ—Ç–≤–µ—Ç—ã**
  - –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫–∞–∫ JSON:
    - `id` (uuid)
    - `time` (–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∑–æ–Ω–∞ +03:00)
    - `model` (–Ω–∞–ø—Ä–∏–º–µ—Ä `deepseek-chat`)
    - `language` (–ø–æ language_code –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)
    - `processing_time_ms`
    - `status` (`success`/`error`)
    - `answer` (—Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞)

- **–†–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö**
  - –í –≥—Ä—É–ø–ø–∞—Ö –∏ —Å—É–ø–µ—Ä–≥—Ä—É–ø–ø–∞—Ö –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç **—Ç–æ–ª—å–∫–æ –ø—Ä–∏ —É–ø–æ–º–∏–Ω–∞–Ω–∏–∏**: `@bot_username`.

- **–ö–æ–º–∞–Ω–¥—ã**
  - `/start` ‚Äî –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–≤ JSON)
  - `/ping` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ + –¥–∞–Ω–Ω—ã–µ –æ —á–∞—Ç–µ (–≤ JSON)

- **–õ–æ–≥–∏**
  - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–Ω—Å–æ–ª—å (`logging.INFO`) + –ª–æ–≥ –æ—à–∏–±–æ–∫ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ.

## üß© –°—Ç–µ–∫

- `python-telegram-bot`
- `openai` –∫–ª–∏–µ–Ω—Ç (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –∫–ª–∏–µ–Ω—Ç –¥–ª—è DeepSeek —á–µ—Ä–µ–∑ `base_url`)
- Async + `asyncio.to_thread()` –¥–ª—è –≤—ã–∑–æ–≤–æ–≤ –º–æ–¥–µ–ª–∏ –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ polling

## üîê –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ (–í–ê–ñ–ù–û)

–¢–æ–∫–µ–Ω—ã **–Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –∫–æ–¥–µ

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω —Ñ–∞–π–ª **`tokens.txt`**, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Å–æ–∑–¥–∞—ë—Ç–µ —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ.

### –§–æ—Ä–º–∞—Ç `tokens.txt`
```txt
TELEGRAM_BOT_TOKEN=123456:ABCDEF...
DEEPSEEK_API_KEY=sk-xxxxxxxx
—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –ª–µ–∂–∞—Ç—å —Ä—è–¥–æ–º —Å bot.py
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ (Windows)

### –í–∞—Ä–∏–∞–Ω—Ç 1 ‚Äî —Å–∞–º—ã–π –ø—Ä–æ—Å—Ç–æ–π (—á–µ—Ä–µ–∑ `start.bat`)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **Python 3.12+**
2. –°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
3. –°–æ–∑–¥–∞–π—Ç–µ `tokens.txt` (–ø–æ –ø—Ä–∏–º–µ—Ä—É `tokens.example.txt`)
4. –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ **`start.bat`**
5. –ì–æ—Ç–æ–≤–æ ‚úÖ

`start.bat`:
- —Å–æ–∑–¥–∞—ë—Ç –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
- —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- –∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞

---
### –í–∞—Ä–∏–∞–Ω—Ç 2 ‚Äî –≤—Ä—É—á–Ω—É—é (—á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å)

`pip install -r requirements.txt python bot.py`

---
## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –±–æ—Ç–∞
username –±–æ—Ç–∞ - @WhiteRabbit121_bot

### –í –ª–∏—á–Ω–æ–º —á–∞—Ç–µ
–ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É:
`/start`